<%- include('../layouts/main-before') %>

<div class="card">
<article class="card-body mx-auto col-lg-8">
    <h2 class="card-title text-center">ĐĂNG KÝ</h2>
    <h4 class="mb-3">Tài khoản quản lý</h4>
    <form>
        <div class="row">
            <div class="col-md-8">
                <div class="input-group mb-2">
                    <div class="input-group-text"><i class="fa fa-envelope"></i></div>
                    <input name="Gmail" class="form-control" placeholder="Gmail" type="text"
                        required>
                    <span class="input-group-text">@gmail.com</span>
                </div>
                <div class="input-group mb-2">
                    <div class="input-group-text"><i class="fas fa-phone"></i></div>
                    <input name="ThongTinCaNhan.DienThoai" class="form-control" placeholder="Phone"
                        type="text" required>
                </div>
                <div class="input-group mb-2">
                    <div class="input-group-text"><i class="fa fa-lock"></i></div>
                    <input name="Password" class="form-control" placeholder="Password"
                        type="password" required>
                </div>
                <div class="input-group mb-2">
                    <div class="input-group-text"><i class="fa fa-lock"></i></div>
                    <input class="form-control" placeholder="Repeat Password" type="password">
                </div>
                <div class="input-group mb-2">
                    <div class="input-group-text"><i class="fas fa-building"></i></div>
                    <input name="ThongTinCaNhan.DiaChi" class="form-control" placeholder="Address"
                        type="text">
                </div>
            </div>
            <div class="col-md-4">
                <div class="input-group mb-2">
                    <div class="input-group-text"><i class="fas fa-user-tie"></i></div>
                    <input name="ThongTinCaNhan.HoTen" class="form-control" placeholder="Full Name"
                        type="text">
                </div>
                <div class="input-group mb-2">
                    <div class="input-group-text"><i class="fas fa-birthday-cake"></i></div>
                    <input name="ThongTinCaNhan.NgaySinh" class="form-control"
                        placeholder="Birthday" type="text">
                </div>
                <div class="input-group mb-2">
                    <div class="input-group-text"><i class="fas fa-transgender"></i></div>
                    <select name="ThongTinCaNhan.GioiTinh" class="form-select"
                        aria-label="Default select example">
                        <option value="" selected disabled>Gender</option>
                        <option value="Male">Nam</option>
                        <option value="Female">Nữ</option>
                    </select>
                </div>
            </div>
        </div>

        <hr>
        <h4 class="mb-3">Thông tin phòng khám</h4>
        <div class="row">
            <div class="input-group mb-2">
                <div class="input-group-text"><i class="fas fa-file-signature"></i></div>
                <input name="ThongTinPhongKham.Ten" class="form-control"
                    placeholder="Tên phòng khám" type="text">
            </div>
            <div class="input-group mb-2">
                <div class="input-group-text"><i class="fas fa-globe-asia"></i></div>
                <input name="ThongTinPhongKham.DiaChi" class="form-control"
                    placeholder="Địa chỉ phòng khám" type="text">
            </div>

            <div class="input-group mb-2">
                <div class="input-group-text"><i class="fab fa-facebook-f"></i></div>
                <input name="ThongTinPhongKham.Facebook" class="form-control"
                    placeholder="Link dẫn Facebook" type="text">
            </div>

            <div class="input-group mb-2">
                <div class="input-group-text"><i class="fas fa-map-marked-alt"></i></div>
                <input name="ThongTinPhongKham.GoogleMap" class="form-control"
                    placeholder="Link dẫn Google Map" type="text">
            </div>


            <div class="row">
                <legend class="col-form-label col-sm-2 float-sm-left pt-0">
                    Chuyên khoa:
                </legend>
                <div class="col-sm-5">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="ChuyenKhoa[]"
                            value="Nội Khoa" id="major-1">
                        <label class="form-check-label" for="major-1">
                            Nội khoa
                        </label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="ChuyenKhoa[]"
                            value="Nhi Khoa" id="major-2">
                        <label class="form-check-label" for="major-2">
                            Nhi khoa
                        </label>
                    </div>
                </div>
                <div class="col-sm-5">
                    <div class="form-check">
                        <input class="form-check-input" type="checkbox" name="ChuyenKhoa[]"
                            value="Thẩm mỹ" id="major-5">
                        <label class="form-check-label" for="major-5">
                            Thẩm mỹ
                        </label>
                    </div>
                </div>
            </div>


            <div class="form-group col-md-12">
                <button id="btn-register-accout" type="submit"
                    class="btn btn-success float-end">Đăng ký tài khoản</button>
            </div>
            <br><br>

            <div class="form-group col-md-12">
                <div style="border-top: 1px solid#888; padding-top:15px; font-size:85%">
                    Have you account?
                    <a href="/login">Login Here</a>
                </div>
            </div>
        </div>
    </form>
</article>
</div>
<script>
let btnRegister = document.getElementById("btn-register-accout"),
formRegister = btnRegister.closest("form");

btnRegister.onclick = (e) => {
e.preventDefault();
let url = "/register",
config = {
method: "POST",
body: JSON.stringify(MyForm.getData(formRegister)),
headers: { 'Content-Type': 'application/json' },
}
fetch(url, config)
.then(response => response.json())
.then((resp) => {
if(resp == true) {
    location.pathname = "/";
}
})
.catch((error) => {
console.warn(error);
})
}
</script>

<%- include('../layouts/main-after') %>
